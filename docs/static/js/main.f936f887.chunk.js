(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){e.exports={ChatRoom:"Chat_ChatRoom__13n-b",ChatLeft:"Chat_ChatLeft__2zrn3",ChatRight:"Chat_ChatRight__3kE5n",Chat:"Chat_Chat__3xSO8",ChatInput:"Chat_ChatInput__2mDw2"}},103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),s=a(49),o=a.n(s),m=(a(60),a(6)),l=a(1),i=function(e){return r.a.createElement("main",null,e.children)},u=a(54),f=a(50),h=a.n(f),E=a(17),_=a.n(E),d=function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,e.userName),r.a.createElement("li",null,r.a.createElement("p",null,e.message))),a=_.a.Message;return e.userName===e.curUser&&(a=_.a.UserMessage),"admin"===e.userName&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("p",null,e.message))),a=_.a.AdminMessage),r.a.createElement("div",{className:a},t)},g=a(51),p=a.n(g),b=function(e){var t=e.messages.map((function(t,a){return r.a.createElement(d,{message:t.message,key:a,curUser:e.curUser,userName:t.user})}));return r.a.createElement("ul",{className:p.a.Messages},t)},v=a(13),C=a.n(v),j=function(e){var t=e.users.map((function(e,t){return r.a.createElement("div",{className:C.a.User,key:t},r.a.createElement("div",{className:C.a.dot}),r.a.createElement("li",null,e.name))}));return r.a.createElement("div",{className:C.a.RoomSidebar},r.a.createElement("h4",null,"Active Users"),r.a.createElement("div",{className:C.a.usersContainer},r.a.createElement("ul",null,t)))},k=a(10),O=a.n(k),S=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),l=Object(m.a)(o,2),i=l[0],f=l[1],E=Object(n.useState)([]),_=Object(m.a)(E,2),d=_[0],g=_[1],p=Object(n.useState)([]),v=Object(m.a)(p,2),C=v[0],k=v[1];Object(n.useEffect)((function(){var t=h.a.parse(window.location.search).name;return f(t),e.socket.emit("join",{name:t},(function(){})),function(){e.socket.emit("disconnect"),e.socket.off()}}),[e.socket,e.socketURL]),Object(n.useEffect)((function(){e.socket.on("chat message",(function(e){return g([].concat(Object(u.a)(d),[e]))}))}),[e.socket,d]),Object(n.useEffect)((function(){e.socket.on("get users",(function(e){return k(e)}))}),[e.socket,C]);var S=function(t){t.preventDefault(),""!==c&&(e.socket.emit("chat message",c),s(""))};return r.a.createElement("div",{className:O.a.ChatRoom},r.a.createElement("div",{className:O.a.ChatLeft},r.a.createElement(j,{name:i,users:C})),r.a.createElement("div",{className:O.a.ChatRight},r.a.createElement("div",{className:O.a.Chat},r.a.createElement(b,{socket:e.socket,curUser:i,messages:d})),r.a.createElement("div",{className:O.a.ChatInput},r.a.createElement("form",{action:"",onSubmit:S},r.a.createElement("input",{type:"text",id:"m",autoComplete:"off",value:c,onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{type:"submit",onClick:S},"Send")))))},N=a(18),M=a.n(N),R=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],s=a[1];return r.a.createElement("div",{className:M.a.Join},r.a.createElement("div",{className:M.a.Inner},r.a.createElement("h1",null,"Join"),r.a.createElement("div",{className:M.a.FormContainer},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a="?name=".concat(c);e.history.push("/chat"+a)}},r.a.createElement("input",{placeholder:"User",maxLength:"15",type:"text",onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Sign In")))))},U=a(52),w=a.n(U),x="https://jeff-brausam-chat-application.herokuapp.com/";var J=Object(l.f)((function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(m.a)(s,2),u=o[0],f=o[1];Object(n.useEffect)((function(){c(w()(x)),f(!0)}),[]);var h=null;return!0===u&&(h=r.a.createElement(S,{socket:a,endpoint:x})),r.a.createElement(i,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/chat",render:function(){return h}}),r.a.createElement(l.a,{path:"/",exact:!0,component:R})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,{basename:""},r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},13:function(e,t,a){e.exports={RoomSidebar:"RoomSidebar_RoomSidebar__3QjpI",usersContainer:"RoomSidebar_usersContainer__17Mch",User:"RoomSidebar_User__3AdbL",dot:"RoomSidebar_dot__1H59N"}},17:function(e,t,a){e.exports={UserMessage:"Message_UserMessage__2t8rn",Message:"Message_Message__3SPfJ",AdminMessage:"Message_AdminMessage__T1fA7"}},18:function(e,t,a){e.exports={Join:"Join_Join__3_AnC",Inner:"Join_Inner__1Esnm",FormContainer:"Join_FormContainer__1s8ht"}},51:function(e,t,a){e.exports={Messages:"Messages_Messages__YAY87"}},55:function(e,t,a){e.exports=a(103)},60:function(e,t,a){},96:function(e,t){}},[[55,1,2]]]);
//# sourceMappingURL=main.f936f887.chunk.js.map